"use strict";const t=require("../../common/vendor.js"),e={mixins:[require("../../mixins/tabbar-badge.js").badgeMix],data:()=>({windowHeight:0,cateList:[],active:0,catelevel2:[],scrollTop:0}),onLoad(){this.windowHeight=t.index.getSystemInfoSync().windowHeight-50,this.getCateList()},methods:{async getCateList(){const{data:e}=await this.$http.get("/api/public/v1/categories");if(200!==e.meta.status)return t.index.$showMsg("数据请求失败");this.cateList=e.message,this.catelevel2=this.cateList[0].children,console.log(this.cateList)},activeChange(t){this.active=t,this.catelevel2=this.cateList[t].children,this.scrollTop=this.scrollTop?0:1},gotoGoodsList(e){t.index.navigateTo({url:"/subpkg/goods_list/goods_list?cid="+e.cat_id})},gotoSearch(){t.index.navigateTo({url:"/subpkg/search/search"})}}};if(!Array){t.resolveComponent("my-search")()}Math;const i=t._export_sfc(e,[["render",function(e,i,a,s,o,c){return{a:t.o(c.gotoSearch),b:t.f(o.cateList,((e,i,a)=>({a:t.t(e.cat_name),b:t.n(i===o.active?"active":""),c:t.o((t=>c.activeChange(i)),i),d:i}))),c:o.windowHeight+"px",d:t.f(o.catelevel2,((e,i,a)=>({a:t.t(e.cat_name),b:t.f(e.children,((e,i,a)=>({a:t.t(e.cat_name),b:t.o((t=>c.gotoGoodsList(e)),i),c:i}))),c:i}))),e:o.windowHeight+"px",f:o.scrollTop}}]]);wx.createPage(i);
